<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Cr&eacute;er un profil</title>
<link rel='stylesheet' type='text/css' href='/style.css' />
<script src="/angular.min.js"></script>
<script type='text/javascript'>
var CreateProfilModule = angular.module('CreateProfilModule',[]);
CreateProfilModule.controller('CreateProfilCtrl',function($scope,$http,$location) {
		$scope.ages = [
		'18 - 25',
		'25 - 30',
		'30 - 35',
		'35 - 40',
		'40 - 45',
		'45 - 50',
		'50 - 55',
		'55 - 60',
		'60 - ...',
		];

		$scope.genders = [
		'M','F'
		];

		$scope.studies = [
			'Sans diplôme','Bac','Bac+2','Bac+3','Bac+4','Bac+5 et plus'
			];

		$scope.hierarchyLevels = [
			'Cadre','Non Cadre'
			];

		$scope.activities = [
			'Droit','Banque','Bâtiment'
			];
		$scope.create = function() {
			$http.post('/users/rest/create',$scope.user).success(function(data){
					if(data.err === null) {
					//$location.path = '/users/consult/$scope.user.username';	
					}
					else {
					//TODO
					}
					});
		}
});
</script>
</head>
<body>
<div ng-app='CreateProfilModule' ng-controller='CreateProfilCtrl'>
	<div class='structureElement'>
		<div class='structureName'>
			Mon profil
		</div>
		<div>
			<div class='inputField'>Identifiant : <input ng-model='user.username' type='text'/></div>
			<div class='inputField'>Mot de passe : <input ng-model='user.mdp' type='password'/></div>
			<div class='inputField'>Mail : <input ng-model='user.mail' type='mail'/></div>
			<div class='inputField'>Age : <select ng-model='user.age' ng-options='age for age in ages'></select></div>
			<div class='inputField'>Genre : <select ng-model='user.gender' ng-options='gender for gender in genders'></select></div>
			<div class='inputField'>Niveau d'&eacute;tude : <select ng-model='study' ng-options='study for study in studies'></select></div>
			<div class='inputField'>Statut : <select  ng-model='user.hierarchyLevel' ng-options='hierarchyLevel for hierarchyLevel in hierarchyLevels'></select></div>
			<div class='inputField'>Secteur : <select ng-model='user.activity' ng-options='activity for activity in activities'></select></div>
			<button ng-click='create()'>Valider</button>
		</div>
	</div>
</div>
</body>

</html>

